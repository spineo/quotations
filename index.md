# About Quotations

This project involves developing a simple Web Application that displays quotations based on context such as date, event, or degree of relevance. An example context would be to display a quotation by a famous historical personality on his/her birthday. Another one, to display a quotation relevant to a current event. A last one, where date or event relevance is not available, have the relevance be based on keywords association.

Quotations are often a powerful way to convey meaning, inspiration, and emotion in just a few words. The effect can be even more powerful when the quotation is associated with a specific context. From a development standpoint, a tool can be easily created to uncover these associations. In addition, since quotations and information about the authors who inspired those quotations is readily available online, much of the data can be easily mined using Web automation tools.


## Components

This project is still evolving but my initial specification will include the following components:

* More detailed description of the targetted functionality including use cases.
* Listing of the data elements that will be required for this application.
* Schema (i.e., ER diagram) that captures the data elements and their relations (to be stored in a relational database).
* A set of Web automation tools written in Perl to mine much of the data and dump it to text files (since not all quotations are created equal, I will pare down the initial dump)
* A Web Framework (I have picked Django/Python for its simplicity and versatility). Through this framework we will also specify the design of the back-end database schema and go into more implementation details (including client-side scripting)
* A set of database loader scripts that takes as input the text file(s) generated by the Web automation tools.

## Description

As mentioned, in the interest of making this a _simple_ Web Application, below are my initial use cases:

1. The home page by default displays the most relevant quote associated with the current date along with a brief bio about the author (if no date-specific relevance is found, an association derived from keyword relevance is made). This is our _detail_ view. An example date-relevant quotation and bio might be the one below if the current date is October 2nd:

> "The future depends on what we do in the present." - Mahatma Gandhi
>
> Mohandas Karamchand Gandhi, born on this day 1869, was an Indian lawyer, anti-colonial nationalist, and political
> ethicist, who employed nonviolent resistance to lead the successful campaign for India's independence from British Rule, 
> and in turn inspire movements for civil rights and freedom across the world (source: extract from [Wikipedia](https://en.wikipedia.org/wiki/Mahatma_Gandhi))

2. Refreshing the home page displays the next-most relevant quote (or, if none available, one based on keyword relevance). Still on _detail_ view, an example keyword-relevant quotation using the current month might be the one below if a specific-date context is not available:

> "As full of spirit as the month of May, and as gorgeous as the sun in Midsummer" - William Shakespeare
>
> William Shakespeare (bapt. 26 April 1564 – 23 April 1616) was an English poet, playwright, and actor, widely regarded as 
> the greatest writer in the English language and the world's greatest dramatist. He is often called England's national poet 
> and the "Bard of Avon" (or simply "the Bard"). His extant works, including collaborations, consist of some 39 plays, 154 
> sonnets, two long narrative poems, and a few other verses, some of uncertain authorship. His plays have been translated 
> into every major living language and are performed more often than those of any other playwright (source: extract from [Wikipedia](https://en.wikipedia.org/wiki/William_Shakespeare))

3. A search field allows a user to enter a search term and return a list (ordered by relevance) of quotations associated with that term. The number returned can be specified from a selection widget (i.e., in increments of 5 or 10). This is our _list_ view that shows only the quotation and author associated with each returned item along with a link to the _detail_ view (that includes the author bio as showbn above)

That's it for use cases (at least for now)

## Data Elements and Schema

1. The Starting point is cataloging a series of _Events_ and their associated _Dates_ and/or _Seasons_ (from the event _Author_ and/or _Keywords_ relations we will find the most relevant quotation(s))
2. The _Quotations_ and _Authors_ (as well as any _Source_ associated with each quotation) are of course stored. As we discussed, an author has certain attributes associated with him/her such as _Birth/Death Date_ and _Bio_ information. The quotation might also have one or more _Keywords_ associated with it which can tie it to events or user initiated queries.
3. Finally, we want to keep track of when the quotation was last shown and thus prevent it from being re-displayed when user refreshes the browser (unless it is included in the returned list of a user initiated search)

Our first draft of the schema or _Entity-Relation Diagram (ERD)_ might look like the one below:

![Quotations ERD](images/quotations_erd.png)

In a real query we may get zero or more events associated with a date (in the case of zero, we might pull in event(s) by associating month or season to today's date). With multiple events, we might give precedence to those events tied to an author as oppposed to just a keyword (though even a single author might have multiple quotations so we would need to decide which one to display)

In the ideal world, a tie breaker might best be broken by pulling in some currently _trending topics_ (perhaps something for version 2.0 of this app!)

## Web Automation/Filering Tools and Data

I have added some Web automation _scraper_ scripts along with the _filter_ and _loader_ scripts under my GitHub [_Perl_](https://github.com/spineo/perl-scripts) repository (see [_bin/quotes_](https://github.com/spineo/perl-scripts/tree/master/bin/quotes)). These will be referenced in the sections that follow. The scripts also use the supporting _Util_ packages under the [_lib/Util_](https://github.com/spineo/perl-scripts/tree/master/lib/Util) directory and reference configuration files added under the [_conf/quotes_](https://github.com/spineo/perl-scripts/tree/master/conf/quotes) directory.

### Web Scrape the Quotes

The purpose of the _scrape_ tools is to pull raw data when possible. Much of the data "cleanup" will be done manually. This will include deciding which quotations and events to include as well as which keywords to associate.

I have created the Web automation [_scrape_quotes.pl_](https://github.com/spineo/perl-scripts/blob/master/bin/quotes/scrape_quotes.pl) script to pull a few thousand _quotations/authors_ from one or more sites as well as an optional _source_ (for this site, usually a book reference) and _keywords_. A short extract from the raw data generated is shown below:

```
You've gotta dance like there's nobody watching###William W. Purkey######dance,heaven,hurt,inspirational,life,love,sing
You know you're in love when you can't fall asleep because reality is finally better than your dreams.###Dr. Seuss######attributed-no-source,dreams,love,reality,sleep
A friend is someone who knows all about you and still loves you.###Elbert Hubbard######friend,friendship,knowledge,love
Darkness cannot drive out darkness: only light can do that. Hate cannot drive out hate: only love can do that.###Martin Luther King Jr.###A Testament of Hope: The Essential Writings and Speeches###darkness,drive-out,hate,inspirational,light,love,peace
We accept the love we think we deserve.###Stephen Chbosky###The Perks of Being a Wallflower###inspirational,love
```

The script is run with the required command-line option '--config' which points to a scrape site specific configuration file. An example site [template](https://github.com/spineo/perl-scripts/blob/master/conf/quotes/scrape_quotes.site.template) is checked into the _conf/quotes_ directory of the _perl-scripts_ repository. For any sites I visit, at least for now, will not plan on using any available feeds (i.e., RSS) to extract data.

Note: Make sure that extraction of content does not infringe on copyrights (especially if used for commercial purposes)

### Create the Initial List of Authors

Since the script can potentially retrieve tens of thousands of quotes (of which well over 99% are of no value to me) I decided to perform an intial filtering by author. For this manual exercise I arbitrarily came up with 100 [authors](data/authors.txt) (with a few added later) spanning multiple nationalities and occupations. The criteria for picking these authors was that they are (or were) masters in their endevours or occupations, in at least some aspect of their life were worthy of my admiration, and had attributed to them two or more quotations that were inspiring or thought provoking.

### Associate Additional Author Information

As I produced this list, I also associated the additional fields birth date, death date (if deceased), title/short description and a link (i.e., Wikipedia) to the bio. To automate this scrape, I implemented the script [_scrape_authors_info.pl_](https://github.com/spineo/perl-scripts/blob/master/bin/quotes/scrape_authors_info.pl) that used as input a scrape site specific configuration file ([_scrape_authors_info.site.template_](https://github.com/spineo/perl-scripts/blob/master/conf/quotes/scrape_authors_info.site.template) and the list of authors and output the new list [_authors_info_](data/authors_info.txt) with additional information. The script correctly found the bio and generated the url for all authors in the list (using Wikipedia) but had incomplete and/or erroneous data in 26/100 scrapes (much due to inconsistent formatting of the Wikipedia markup and dates content). Rather than make the script more generalizable and handle at least most of the remaining cases, I decided (at least for now) to fix these manually and add them to a separate file ([_authors_info_manual_](data/authors_info_manual.txt)). The filter script below can then takes as input a catenated file containing both lists.

### Create the Initial List of Events

The initial list of events (at least to be used during the testing phase) was also produced manually and saved to the [_events.txt_](data/events.txt) file and includes author name (for now just events tied to an author), date of the event, event name, and keywords associated with author/event.

### Filter the Quotes and tie them to the Authors/Events

 The [_filter_quotes.pl_](https://github.com/spineo/perl-scripts/blob/master/bin/quotes/filter_quotes.pl) script creates an intermediate data structure based on the authors information and keyed by the lowercased/dash-separated/stripped full name with the Events and Quotes subsequently associated with the author.

Pretty printed below is the _reference_ output for _Albert Einstein_ generated using the --debug flag (the actual output used as input to the loader, which is shown in the next section, is JSON formatted). A command-line option allows applying a filter by quote size (for this run any quote over 200 characters got tossed). In addition, the quote, keywords, and source are validated for characters outside an ASCII range (i.e., octal \040-\176) which rules out some, but not all, foreign sets. While there a few quotes of interest in this example, they are certainly not Einstein's best so clearly an admin API will be needed to easily add, update, or remove quotes and other data.
```
          'albert-einstein' => {
                                 'bio_url' => 'https://en.wikipedia.org/wiki/Albert_Einstein',
                                 'birth_date' => '1879-03-14',
                                 'description' => 'German-born physicist and developer of the theory of relativity (1879-1955)',
                                 'lname_sig' => 'einstein',
                                 'events' => [
                                               {
                                                 'event_date' => '1922-11-09',
                                                 'event' => 'Albert Einstein was awarded the 1921 Nobel Prize in Physics "for his services to Theoretical Physics, 
and especially for his discovery of the law of the photoelectric effect."',
                                                 'keywords' => 'albert-einstein,nobel-physics-prize'
                                               }
                                             ],
                                 'death_date' => '1955-04-18',
                                 'quotes' => [
                                               {
                                                 'quote' => 'I know not with what weapons World War III will be fought, but World War IV will be fought with sticks
 and stones.',
                                                 'keywords' => 'albert-einstein,future,war,wisdom',
                                                 'author' => 'Albert Einstein'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'source' => 'Ideas and Opinions',
                                                 'quote' => 'Student is not a container you have to fill but a torch you have to light up.',
                                                 'keywords' => 'albert-einstein,quote'
                                               },
                                               {
                                                 'keywords' => 'albert-einstein,einstein,inspirational,loner',
                                                 'quote' => 'Although I am a typical loner in my daily life, my awareness of belonging to the invisible community o
f those who strive for truth, beauty, and justice has prevented me from feelings of isolation.',
                                                 'author' => 'Albert Einstein'
                                               },
                                               {
                                                 'keywords' => 'albert-einstein,truth',
                                                 'quote' => 'Anyone who doesn\'t take truth seriously in small matters cannot be trusted in large ones either.',
                                                 'author' => 'Albert Einstein'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'Weak people revenge. Strong people forgive. Intelligent people ignore.',
                                                 'keywords' => 'advice,albert-einstein'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'keywords' => 'albert-einstein',
                                                 'quote' => 'Ethical axioms are found and tested not very differently from the axioms of science. Truth is what sta
nds the test of experience.'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'In the midst of every crisis, lies great opportunity.',
                                                 'keywords' => 'albert-einstein,crisis,opportunity'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'keywords' => 'albert-einstein,stupidity,wired-for-war',
                                                 'quote' => 'Never attribute to malice that which can be adequately explained by stupidity, but don\'t rule out malice.'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'Racism is a disease of white people',
                                                 'keywords' => 'albert-einstein,civil-rights-movement,famous,racism,segregation'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'The most aggravating thing about the younger generation is that I no longer belong to it.',
                                                 'keywords' => 'aggravating,albert-einstein,generation,life,young,youth'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'Kada sedite sat vremena kraj lepe devojke, to prodje kao minut. Sedite minut na vrelu pec i to ce trajati kao sat. To se zove relativitet.',
                                                 'keywords' => 'albert-einstein,relativity,relativity-theory'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'keywords' => 'albert-einstein,philosophy,quantum-physics',
                                                 'quote' => 'That deep emotional conviction of the presence of a superior reasoning power, which is revealed in the incomprehensible universe, forms my idea of God.'
                                               },
                                               {
                                                 'author' => 'Albert Einstein',
                                                 'quote' => 'Aku takut suatu hari teknologi akan melampaui interaksi manusia. Dunia akan memiliki generasi idiot',
                                                 'keywords' => 'albert-einstein'
                                               },
                                               {
                                                 'keywords' => 'austerity,curie,experimental-science,fortune,friendship,grandeur,intuition,marie-curie,nobel-laureate,purity,science,scientist,strength',
                                                 'quote' => 'It was my good fortune to be linked with',
                                                 'source' => 'Out of My Later Years: The Scientist, Philosopher, and Man Portrayed Through His Own Words',
                                                 'author' => 'Albert Einstein'
                                               }
                                             ],
                                 'name' => 'Albert Einstein'
                               },
```

Alternatively, the filtering script can output the author keywords and then have the quote extraction script apply these directly when searching the site(s) (instead of returning and then filtering a broader search keyed by topic)

## Web Framework

As mentioned, the Web Framework used will be [Django](https://www.djangoproject.com) which is implemented with Python. The application will be running on a Mac OS (Python v3.7.6 and Django v3.0)

Since the setup, at least initially, is not geared to a heavy-weight and/or production environment I will skip the installation of Apache and mod_wsgi as suggested in the [installation](https://docs.djangoproject.com/en/3.0/topics/install/) instructions.

Similarly, I will use [_SQLite_](https://www.sqlite.org/index.html) as the database which already comes bundled with Django and should be adequately support our schema design and processing demands. Since SQLite does not effectively deal with concurrency, switching to a more powerfull database such as MySQL, MariaDB or PostgreSQL is recommended if application is made externally facing.

### Installing Django

After installing _pip_ you can run the following command (output shown below):
```
python3 -m pip install django
Collecting django
  Downloading Django-3.0.7-py3-none-any.whl (7.5 MB)
     |████████████████████████████████| 7.5 MB 4.3 MB/s 
Collecting pytz
  Downloading pytz-2020.1-py2.py3-none-any.whl (510 kB)
     |████████████████████████████████| 510 kB 3.7 MB/s 
Collecting asgiref~=3.2
  Downloading asgiref-3.2.7-py2.py3-none-any.whl (19 kB)
Collecting sqlparse>=0.2.2
  Downloading sqlparse-0.3.1-py2.py3-none-any.whl (40 kB)
     |████████████████████████████████| 40 kB 4.3 MB/s 
Installing collected packages: pytz, asgiref, sqlparse, django
Successfully installed asgiref-3.2.7 django-3.0.7 pytz-2020.1 sqlparse-0.3.1
```

After the installation we can always confirm the version by running:
```
python3 -m django --version
3.0.7
```

### Creating the Initial Project and App Structure

Using the _django-admin_ utility allows to easily create our initial project structure. From our root git directory run:
```
django-admin startproject quotations .
```
In addition to the _manage,py_ (more on this later), the sub-directory _quotations_, which is the actual Python package for the project, will be created. Using the handy _tree_ command (run _brew install tree_ to install) we can examine the generated files under this directory which we will configure as the application evolves:
```
tree quotations/
quotations/
├── __init__.py
├── asgi.py
├── settings.py
├── urls.py
└── wsgi.py
```

We can now test, from the git root directory, that the basic project works by running:
```
python3 manage.py runserver
```

If startup goes well you should get the below message:
```
June 08, 2020 - 21:03:44
Django version 3.0.7, using settings 'quotations.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C
```

Going to that [url](http://127.0.0.1:8000/) you should see a standard Django welcome page (in my case "The install worked successfully! Congratulations!"). To use a port other than the default one, you can run the same command with the target port at the end.


Now we will run (from the root directory) the command to create the specific app which we will name _myquotes_ and which will contain our query/display code:
```
python3 manage.py startapp myquotes
```

Using our tree command, we verify the app structure:
```
myquotes/
├── __init__.py
├── admin.py
├── apps.py
├── migrations
│   └── __init__.py
├── models.py
├── tests.py
└── views.py
```

Finally, before moving on to the models, lets test auto-generating a simple index file and verify that it works (like the standard Django tutorials suggest)

Create a _myquotes/urls.py_ file and add the below code:
```
from django.urls import path

from . import views

urlpatterns = [
    path('', views.index, name='index'),
]
```

In the _myquotes/views.py_ add the below content:
```
from django.http import HttpResponse


def index(request):
    return HttpResponse("This is my test quotations index file.")
```

To integrate _myquotes_, in main _quotations/urls.py_ add the below code:
```
from django.contrib import admin
from django.urls import include, path

urlpatterns = [
    path('myquotes/', include('myquotes.urls')),
    path('admin/', admin.site.urls),
]
```

Run the application as before (_python3 manage.py runserver_) and verify the new url rendering at http://127.0.0.1:8000/myquotes with the text you just added.

### Setting up the Backend Database and Mapping the ERD to _models.py_

By default, Django comes bundled with the SQLite database which we will use (at least initially). However, we will need to configure where the database file will be stored. To do this, edit the _quotations/settings.py_ file to include the below new _DATA_DIR_ references (the _data/myquotes.sqlite3_ file, initially empty, is checked into the git repository)

```
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
DATA_DIR = os.path.join(BASE_DIR, 'data')

...

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(DATA_DIR, 'myquotes.sqlite3'),
    }
}
```

In this file, you can also change the default 'UTC' timezone if needed (in my case, I set _TIME_ZONE = 'US/Eastern'_). As we move along, we will make additional changes to this configuration file.

In order to map our ERD created earlier to the database using the built-in Django Object Relation Mapping (ORM) we will edit the file [_myquotes/models.py_](myquotes/models.py) and include the classes (that subclass _django.db.models.Model_) and generally map to the database tables and the class variables, which map to the database fields.

The Models (latest draft) that capture the ERD shown earlier are defined below:
```
from django.db import models
from django.core.validators import MaxValueValidator, MinValueValidator
import calendar

# The primary key field for each class is auto-generated
#
class Author(models.Model):
    full_name        = models.CharField(max_length=100, unique=True)
    birth_date       = models.DateField(null=True)
    death_date       = models.DateField(null=True)
    description      = models.CharField(max_length=200, null=True)
    bio_extract      = models.CharField(max_length=800, null=True)
    bio_source_url   = models.URLField(null=True)

class Quotation(models.Model):
    quotation        = models.CharField(max_length=200, unique=True)
    source           = models.CharField(max_length=100, null=True)
    author           = models.ForeignKey(Author, on_delete=models.CASCADE)

class Event(models.Model):
    MONTH_CHOICES    = [(str(i), calendar.month_name[i]) for i in range(1,13)]
    SEASON_CHOICES   = [
        ('WINTER', 'Winter'),
        ('SPRING', 'Spring'),
        ('SUMMER', 'Summer'),
        ('FALL',   'Fall'),
    ]

    def current_year():
        return datetime.date.today().year

    def max_value_current_year(value):
        return MaxValueValidator(current_year())(value)

    event            = models.CharField(max_length=100, unique=True)
    day              = models.IntegerField(validators=[MaxValueValidator(31), MinValueValidator(1)], null=True)
    month            = models.CharField(max_length=9, choices=MONTH_CHOICES, default=1, null=True)
    year             = models.IntegerField(validators=[max_value_current_year, MinValueValidator(-1000)], null=True)
    season           = models.CharField(max_length=6, choices=SEASON_CHOICES, null=True)

class Keyword(models.Model):
    keyword          = models.CharField(max_length=50, unique=True)

class QuotationLastShown(models.Model):
    quotation        = models.OneToOneField(Quotation, on_delete=models.CASCADE)
    last_shown_date  = models.DateField()

class QuotationKeyword(models.Model):
    quotation        = models.OneToOneField(Quotation, on_delete=models.CASCADE)
    keyword          = models.ManyToManyField(Keyword)

class EventAuthor(models.Model):
    event            = models.OneToOneField(Event, on_delete=models.CASCADE)
    author           = models.OneToOneField(Author, on_delete=models.CASCADE)

class EventKeyword(models.Model):
    event            = models.ManyToManyField(Event)
    keyword          = models.ManyToManyField(Keyword)
```

We will now modified the [_quotations/settings.py_](quotations/settings.py) to include the 'myquotes' app we just defined in the list of _INSTALLED_APPS_:
```
INSTALLED_APPS = [
    'myquotes',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

By running the command ___python3 manage.py makemigrations myquotes___ we will create the intermediate format for the models that can be mapped to the database entities (this command can be run every time we change the model and provides a means to fix any syntax problems with the _models.py_). Once successful, you will get the below output and the intermediate structures stored in the latest migration (i.e., [_myquotes/migrations/0001_initial.py_](myquotes/migrations/0001_initial.py) file)
```
Migrations for 'myquotes':
  myquotes/migrations/0001_initial.py
    - Create model Author
    - Create model Event
    - Create model Keyword
    - Create model Quotation
    - Create model QuotationLastShown
    - Create model QuotationKeyword
    - Create model EventKeyword
    - Create model EventAuthor
```

You can also view the _SQL_ (shown below) that gets generated and applied to the database by running the command ___python3 manage.py sqlmigrate myquotes 0001___. Notice the additional entities that get auto-generated such as primary keys and indexes.
```
BEGIN;
--
-- Create model Author
--
CREATE TABLE "myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "birth_date" date NOT NULL, "death_date" date NOT NULL, "bio_extract" varchar(400) NOT NULL, "bio_source_url" varchar(200) NOT NULL);
--
-- Create model Event
--
CREATE TABLE "myquotes_event" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "event" varchar(100) NOT NULL UNIQUE, "day" integer NULL, "month" varchar(9) NULL, "year" integer NULL, "season" varchar(6) NULL);
--
-- Create model Keyword
--
CREATE TABLE "myquotes_keyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "keyword" varchar(50) NOT NULL UNIQUE);
--
-- Create model Quotation
--
CREATE TABLE "myquotes_quotation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotation" varchar(200) NOT NULL UNIQUE, "quotation_source" varchar(100) NULL, "author_id_id" integer NOT NULL REFERENCES "myquotes_author" ("id") DEFERRABLE INITIALLY DEFERRED);
--
-- Create model QuotationLastShown
--
CREATE TABLE "myquotes_quotationlastshown" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "last_shown_date" date NOT NULL, "quotation_id_id" integer NOT NULL UNIQUE REFERENCES "myquotes_quotation" ("id") DEFERRABLE INITIALLY DEFERRED);
--
-- Create model QuotationKeyword
--
CREATE TABLE "myquotes_quotationkeyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotation_id_id" integer NOT NULL UNIQUE REFERENCES "myquotes_quotation" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE "myquotes_quotationkeyword_keyword_id" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotationkeyword_id" integer NOT NULL REFERENCES "myquotes_quotationkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "keyword_id" integer NOT NULL REFERENCES "myquotes_keyword" ("id") DEFERRABLE INITIALLY DEFERRED);
--
-- Create model EventKeyword
--
CREATE TABLE "myquotes_eventkeyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT);
CREATE TABLE "myquotes_eventkeyword_event_id" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "eventkeyword_id" integer NOT NULL REFERENCES "myquotes_eventkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id" integer NOT NULL REFERENCES "myquotes_event" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE "myquotes_eventkeyword_keyword_id" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "eventkeyword_id" integer NOT NULL REFERENCES "myquotes_eventkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "keyword_id" integer NOT NULL REFERENCES "myquotes_keyword" ("id") DEFERRABLE INITIALLY DEFERRED);
--
-- Create model EventAuthor
--
CREATE TABLE "myquotes_eventauthor" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "author_id_id" integer NOT NULL UNIQUE REFERENCES "myquotes_author" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id_id" integer NOT NULL UNIQUE REFERENCES "myquotes_event" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE INDEX "myquotes_quotation_author_id_id_e3ea6829" ON "myquotes_quotation" ("author_id_id");
CREATE UNIQUE INDEX "myquotes_quotationkeyword_keyword_id_quotationkeyword_id_keyword_id_f03b0cc7_uniq" ON "myquotes_quotationkeyword_keyword_id" ("quotationkeyword_id", "keyword_id");
CREATE INDEX "myquotes_quotationkeyword_keyword_id_quotationkeyword_id_171b6464" ON "myquotes_quotationkeyword_keyword_id" ("quotationkeyword_id");
CREATE INDEX "myquotes_quotationkeyword_keyword_id_keyword_id_291df85f" ON "myquotes_quotationkeyword_keyword_id" ("keyword_id");
CREATE UNIQUE INDEX "myquotes_eventkeyword_event_id_eventkeyword_id_event_id_74c7f66e_uniq" ON "myquotes_eventkeyword_event_id" ("eventkeyword_id", "event_id");
CREATE INDEX "myquotes_eventkeyword_event_id_eventkeyword_id_0a656bca" ON "myquotes_eventkeyword_event_id" ("eventkeyword_id");
CREATE INDEX "myquotes_eventkeyword_event_id_event_id_9215ad9c" ON "myquotes_eventkeyword_event_id" ("event_id");
CREATE UNIQUE INDEX "myquotes_eventkeyword_keyword_id_eventkeyword_id_keyword_id_b281797a_uniq" ON "myquotes_eventkeyword_keyword_id" ("eventkeyword_id", "keyword_id");
CREATE INDEX "myquotes_eventkeyword_keyword_id_eventkeyword_id_7a573e91" ON "myquotes_eventkeyword_keyword_id" ("eventkeyword_id");
CREATE INDEX "myquotes_eventkeyword_keyword_id_keyword_id_6f5222ff" ON "myquotes_eventkeyword_keyword_id" ("keyword_id");
COMMIT;
```

We have two more commands to run. The ___python3 manage.py makemigrations___ for good measure should return "No changes detected" since this is our firsts version.

___python3 manage.py migrate___ will perform the actual migration of the latest changes applying them to our database store  (i.e., data/myquotes.sqlite3). If migration is successful you should see the below output:
```
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, myquotes, sessions
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying myquotes.0001_initial... OK
  Applying sessions.0001_initial... OK
```

You can also log into the database by issuing the command ___sqlite3 myquotes.sqlite3___ from /data and then running a built-in command like _.schema_ to view the applied entities.

As the project evolved, a few changes were made to the _models.py_ (one in particular, involved removing the "_id" suffix from foreign key names since the database mapping automatically added this suffix to these column names). To make these alterations, the  ___makemigrations___ can be re-run and prompts answered as shown below. If successful, a summary of the alterations follows.
```
python3 manage.py makemigrations myquotes
Did you rename eventauthor.author_id to eventauthor.author (a OneToOneField)? [y/N] y
Did you rename eventauthor.event_id to eventauthor.event (a OneToOneField)? [y/N] y
Did you rename eventkeyword.event_id to eventkeyword.event (a ManyToManyField)? [y/N] y
Did you rename eventkeyword.keyword_id to eventkeyword.keyword (a ManyToManyField)? [y/N] y
Did you rename quotation.author_id to quotation.author (a ForeignKey)? [y/N] y
Did you rename quotation.quotation_source to quotation.source (a CharField)? [y/N] y
Did you rename quotationkeyword.keyword_id to quotationkeyword.keyword (a ManyToManyField)? [y/N] y
Did you rename quotationkeyword.quotation_id to quotationkeyword.quotation (a OneToOneField)? [y/N] y
Did you rename quotationlastshown.quotation_id to quotationlastshown.quotation (a OneToOneField)? [y/N] y
Migrations for 'myquotes':
  myquotes/migrations/0002_auto_20200619_1206.py
    - Rename field author_id on eventauthor to author
    - Rename field event_id on eventauthor to event
    - Rename field event_id on eventkeyword to event
    - Rename field keyword_id on eventkeyword to keyword
    - Rename field author_id on quotation to author
    - Rename field quotation_source on quotation to source
    - Rename field keyword_id on quotationkeyword to keyword
    - Rename field quotation_id on quotationkeyword to quotation
    - Rename field quotation_id on quotationlastshown to quotation
    - Add field description to author
    - Alter field bio_extract on author
    - Alter field bio_source_url on author
    - Alter field birth_date on author
    - Alter field death_date on author
```

The alterations can now be verified as before:
```
python3 manage.py sqlmigrate myquotes 0002
BEGIN;
--
-- Rename field author_id on eventauthor to author
--
CREATE TABLE "new__myquotes_eventauthor" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "author_id" integer NOT NULL UNIQUE REFERENCES "myquotes_author" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id_id" integer NOT NULL UNIQUE REFERENCES "myquotes_event" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "new__myquotes_eventauthor" ("id", "event_id_id", "author_id") SELECT "id", "event_id_id", "author_id_id" FROM "myquotes_eventauthor";
DROP TABLE "myquotes_eventauthor";
ALTER TABLE "new__myquotes_eventauthor" RENAME TO "myquotes_eventauthor";
--
-- Rename field event_id on eventauthor to event
--
CREATE TABLE "new__myquotes_eventauthor" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "author_id" integer NOT NULL UNIQUE REFERENCES "myquotes_author" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id" integer NOT NULL UNIQUE REFERENCES "myquotes_event" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "new__myquotes_eventauthor" ("id", "author_id", "event_id") SELECT "id", "author_id", "event_id_id" FROM "myquotes_eventauthor";
DROP TABLE "myquotes_eventauthor";
ALTER TABLE "new__myquotes_eventauthor" RENAME TO "myquotes_eventauthor";
--
-- Rename field event_id on eventkeyword to event
--
CREATE TABLE "myquotes_eventkeyword_event" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "eventkeyword_id" integer NOT NULL REFERENCES "myquotes_eventkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "event_id" integer NOT NULL REFERENCES "myquotes_event" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "myquotes_eventkeyword_event" (id, eventkeyword_id, event_id) SELECT id, eventkeyword_id, event_id FROM "myquotes_eventkeyword_event_id";
DROP TABLE "myquotes_eventkeyword_event_id";
--
-- Rename field keyword_id on eventkeyword to keyword
--
CREATE TABLE "myquotes_eventkeyword_keyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "eventkeyword_id" integer NOT NULL REFERENCES "myquotes_eventkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "keyword_id" integer NOT NULL REFERENCES "myquotes_keyword" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "myquotes_eventkeyword_keyword" (id, eventkeyword_id, keyword_id) SELECT id, eventkeyword_id, keyword_id FROM "myquotes_eventkeyword_keyword_id";
DROP TABLE "myquotes_eventkeyword_keyword_id";
--
-- Rename field author_id on quotation to author
--
CREATE TABLE "new__myquotes_quotation" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotation" varchar(200) NOT NULL UNIQUE, "quotation_source" varchar(100) NULL, "author_id" integer NOT NULL REFERENCES "myquotes_author" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "new__myquotes_quotation" ("id", "quotation", "quotation_source", "author_id") SELECT "id", "quotation", "quotation_source", "author_id_id" FROM "myquotes_quotation";
DROP TABLE "myquotes_quotation";
ALTER TABLE "new__myquotes_quotation" RENAME TO "myquotes_quotation";
CREATE UNIQUE INDEX "myquotes_eventkeyword_event_eventkeyword_id_event_id_7b1d035e_uniq" ON "myquotes_eventkeyword_event" ("eventkeyword_id", "event_id");
CREATE INDEX "myquotes_eventkeyword_event_eventkeyword_id_610edce7" ON "myquotes_eventkeyword_event" ("eventkeyword_id");
CREATE INDEX "myquotes_eventkeyword_event_event_id_2cbaa7ed" ON "myquotes_eventkeyword_event" ("event_id");
CREATE UNIQUE INDEX "myquotes_eventkeyword_keyword_eventkeyword_id_keyword_id_339b537c_uniq" ON "myquotes_eventkeyword_keyword" ("eventkeyword_id", "keyword_id");
CREATE INDEX "myquotes_eventkeyword_keyword_eventkeyword_id_346ba203" ON "myquotes_eventkeyword_keyword" ("eventkeyword_id");
CREATE INDEX "myquotes_eventkeyword_keyword_keyword_id_b4b84aaf" ON "myquotes_eventkeyword_keyword" ("keyword_id");
CREATE INDEX "myquotes_quotation_author_id_6456d063" ON "myquotes_quotation" ("author_id");
--
-- Rename field quotation_source on quotation to source
--
ALTER TABLE "myquotes_quotation" RENAME COLUMN "quotation_source" TO "source";
--
-- Rename field keyword_id on quotationkeyword to keyword
--
CREATE TABLE "myquotes_quotationkeyword_keyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotationkeyword_id" integer NOT NULL REFERENCES "myquotes_quotationkeyword" ("id") DEFERRABLE INITIALLY DEFERRED, "keyword_id" integer NOT NULL REFERENCES "myquotes_keyword" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "myquotes_quotationkeyword_keyword" (id, quotationkeyword_id, keyword_id) SELECT id, quotationkeyword_id, keyword_id FROM "myquotes_quotationkeyword_keyword_id";
DROP TABLE "myquotes_quotationkeyword_keyword_id";
--
-- Rename field quotation_id on quotationkeyword to quotation
--
CREATE TABLE "new__myquotes_quotationkeyword" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "quotation_id" integer NOT NULL UNIQUE REFERENCES "myquotes_quotation" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "new__myquotes_quotationkeyword" ("id", "quotation_id") SELECT "id", "quotation_id_id" FROM "myquotes_quotationkeyword";
DROP TABLE "myquotes_quotationkeyword";
ALTER TABLE "new__myquotes_quotationkeyword" RENAME TO "myquotes_quotationkeyword";
CREATE UNIQUE INDEX "myquotes_quotationkeyword_keyword_quotationkeyword_id_keyword_id_ea70edcc_uniq" ON "myquotes_quotationkeyword_keyword" ("quotationkeyword_id", "keyword_id");
CREATE INDEX "myquotes_quotationkeyword_keyword_quotationkeyword_id_56f3530e" ON "myquotes_quotationkeyword_keyword" ("quotationkeyword_id");
CREATE INDEX "myquotes_quotationkeyword_keyword_keyword_id_3312254e" ON "myquotes_quotationkeyword_keyword" ("keyword_id");
--
-- Rename field quotation_id on quotationlastshown to quotation
--
CREATE TABLE "new__myquotes_quotationlastshown" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "last_shown_date" date NOT NULL, "quotation_id" integer NOT NULL UNIQUE REFERENCES "myquotes_quotation" ("id") DEFERRABLE INITIALLY DEFERRED);
INSERT INTO "new__myquotes_quotationlastshown" ("id", "last_shown_date", "quotation_id") SELECT "id", "last_shown_date", "quotation_id_id" FROM "myquotes_quotationlastshown";
DROP TABLE "myquotes_quotationlastshown";
ALTER TABLE "new__myquotes_quotationlastshown" RENAME TO "myquotes_quotationlastshown";
--
-- Add field description to author
--
CREATE TABLE "new__myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "birth_date" date NOT NULL, "death_date" date NOT NULL, "bio_extract" varchar(400) NOT NULL, "bio_source_url" varchar(200) NOT NULL, "description" varchar(200) NULL);
INSERT INTO "new__myquotes_author" ("id", "full_name", "birth_date", "death_date", "bio_extract", "bio_source_url", "description") SELECT "id", "full_name", "birth_date", "death_date", "bio_extract", "bio_source_url", NULL FROM "myquotes_author";
DROP TABLE "myquotes_author";
ALTER TABLE "new__myquotes_author" RENAME TO "myquotes_author";
--
-- Alter field bio_extract on author
--
CREATE TABLE "new__myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "birth_date" date NOT NULL, "death_date" date NOT NULL, "bio_source_url" varchar(200) NOT NULL, "description" varchar(200) NULL, "bio_extract" varchar(800) NULL);
INSERT INTO "new__myquotes_author" ("id", "full_name", "birth_date", "death_date", "bio_source_url", "description", "bio_extract") SELECT "id", "full_name", "birth_date", "death_date", "bio_source_url", "description", "bio_extract" FROM "myquotes_author";
DROP TABLE "myquotes_author";
ALTER TABLE "new__myquotes_author" RENAME TO "myquotes_author";
--
-- Alter field bio_source_url on author
--
CREATE TABLE "new__myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "birth_date" date NOT NULL, "death_date" date NOT NULL, "bio_extract" varchar(800) NULL, "description" varchar(200) NULL, "bio_source_url" varchar(200) NULL);
INSERT INTO "new__myquotes_author" ("id", "full_name", "birth_date", "death_date", "bio_extract", "description", "bio_source_url") SELECT "id", "full_name", "birth_date", "death_date", "bio_extract", "description", "bio_source_url" FROM "myquotes_author";
DROP TABLE "myquotes_author";
ALTER TABLE "new__myquotes_author" RENAME TO "myquotes_author";
--
-- Alter field birth_date on author
--
CREATE TABLE "new__myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "death_date" date NOT NULL, "bio_extract" varchar(800) NULL, "bio_source_url" varchar(200) NULL, "description" varchar(200) NULL, "birth_date" date NULL);
INSERT INTO "new__myquotes_author" ("id", "full_name", "death_date", "bio_extract", "bio_source_url", "description", "birth_date") SELECT "id", "full_name", "death_date", "bio_extract", "bio_source_url", "description", "birth_date" FROM "myquotes_author";
DROP TABLE "myquotes_author";
ALTER TABLE "new__myquotes_author" RENAME TO "myquotes_author";
--
-- Alter field death_date on author
--
CREATE TABLE "new__myquotes_author" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "full_name" varchar(100) NOT NULL UNIQUE, "birth_date" date NULL, "bio_extract" varchar(800) NULL, "bio_source_url" varchar(200) NULL, "description" varchar(200) NULL, "death_date" date NULL);
INSERT INTO "new__myquotes_author" ("id", "full_name", "birth_date", "bio_extract", "bio_source_url", "description", "death_date") SELECT "id", "full_name", "birth_date", "bio_extract", "bio_source_url", "description", "death_date" FROM "myquotes_author";
DROP TABLE "myquotes_author";
ALTER TABLE "new__myquotes_author" RENAME TO "myquotes_author";
COMMIT;
```

To apply the changes, the actual ___migration___ can now be run which will pick-up the latest changes:
```
python3 manage.py migrate
Operations to perform:
  Apply all migrations: admin, auth, contenttypes, myquotes, sessions
Running migrations:
  Applying myquotes.0002_auto_20200619_1206... OK
```

Now that our models and database are complete, we are ready to begin populating our store (at least initially, with some test data)

## Database Loader Script

The [_load_quotes_sqlite.pl_](https://github.com/spineo/perl-scripts/blob/master/bin/quotes/load_quotes_sqlite.pl) script takes as input the JSON formatted data structure generated by the _filter_quotes.pl_ script and loads the data into the database tables.

As with the other scripts, running ___./load_quotes_sqlite.pl --help___ will yield usage information (if needed, you may need to install the CPAN JSON module used by the script). A reference [_database.conf.template_](https://github.com/spineo/perl-scripts/blob/master/conf/quotes/database.conf.template) can be found in this repository and it can be modified accordingly and used with the _--db-conf_ command-line option.
```
./load_quotes_sqlite.pl --help
Usage:   ./load_quotes_sqlite.pl --db-conf <database config file> [ --debug --verbose ] < <author JSON>
Example: ./load_quotes_sqlite.pl --db-conf myquotes.conf --debug --verbose < filter_quotes_output.json
```

## Using the Django Shell to Access the Data

While you can query the SQLite tables directly to look at the loaded data using SQL, a more direct and user-friendly way is to use the _models_ API. In the example below we log into the shell and import the _Event_ class.

We can display the partial list of abstracted _objects_ and then filter by an attribute (in this case _id_) to display _Event_ data associated with that id.
```
python3 manage.py shell
Python 3.7.6 (default, Dec 27 2019, 09:51:13) 
[Clang 10.0.0 (clang-1000.11.45.5)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from myquotes.models import Event
>>> Event.objects.all()
<QuerySet [<Event: Event object (1)>, <Event: Event object (2)>, <Event: Event object (3)>, <Event: Event object (4)>, <Event: Event object (5)>, <Event: Event object (6)>, <Event: Event object (7)>, <Event: Event object (8)>, <Event: Event object (9)>, <Event: Event object (10)>, <Event: Event object (11)>, <Event: Event object (12)>, <Event: Event object (13)>, <Event: Event object (14)>, <Event: Event object (15)>, <Event: Event object (16)>, <Event: Event object (17)>, <Event: Event object (18)>, <Event: Event object (19)>, <Event: Event object (20)>, '...(remaining elements truncated)...']>
>>> Event.objects.filter(id=1).values()
<QuerySet [{'id': 1, 'event': "President's Day honors and celebrates the life and achievements of George Washington, the first President of the United States (1789-1797) and 'The Father of his Country'. On this day we also honor and remember all past US presidents, and in particular Washington, Abraham Lincoln and Thomas Jefferson.", 'day': 15, 'month': '02', 'year': 2021, 'season': 'Winter'}]>
>>> exit()
```

## Setting Up the Admin API

The _Admin_ API will allow us to manage _users_ and _groups_ and perform other meta-operations. By default, you should have the required Apps (i.e., _django.contrib.admin_ and _django.contrib.auth_) under the _INSTALLED_APPS_ section of your _quotations/settings.py_ (as well as the supporting _MIDDLEWARE_ libraries and _TEMPLATES_)

Now create the superuser by running the command below and following the prompt sets that follow:
```
python3 manage.py createsuperuser
Username (leave blank to use 'svpineo'): admin
Email address: svpineo@gmail.com                
Password: 
Password (again): 
Superuser created successfully.
```

Next, ensure that the Web application is running and the admin app is accessible by going to the URL http://localhost:8000/admin, assuming the default port (if necessary restart the Web application by running ___python3 manage.py runserver___). You should see the Admin Login Web page shown below:

![Admin_Login](images/admin_login.png)

After entering the _admin_ username and password created above, you should now see the Admin Web page shown below. We will revisit this API as we develop the App.

![Admin Web Page](images/admin_web_page.png)


## Creating the Admin CRUD (Create, Read, Update Delete) API

### Example Generic List View: Listing Events

We will build this API incrementally. The first step will be to simply create a listing of all _events_. For this, we will first create a ___myquotes/templates___ directory and add to it the below ___event.html___ file with the contents as shown:

```
<h1>Events</h1>
<ul>
\{% for event in event_list %\}
    <li>\{\{ event.event \}\}</li>
\{% endfor %\}
</ul>
```

Next we will modify the ___myquotes/view.py___ to use the Django generic _ListView_ library and integrate the template:
```
from django.views.generic.list import ListView

from myquotes.models import Event
    
# 'context_object_name' by default is 'event_list' but can be overriden
#
class EventListView(ListView):
    model = Event
    template_name = "event.html"
```

The ___quotations/urls.py___ can now be modified to use this new class view, in addition to our admin one defined earlier (the ___myquotes/urls.py__, at least for now, is not necessary):
```
from django.contrib import admin
from django.urls import include, path

from myquotes.views import EventListView
    
urlpatterns = [
    path('myquotes/event/', EventListView.as_view()),
    path('admin/', admin.site.urls),
]   
```

Finally, the ___quotations/settings.py___ needs to be modified to find the new template by including the following:

At the end of the "Build paths..." section add:
```
MYQUOTES_TEMPLATES = os.path.join(BASE_DIR, 'myquotes/templates/')
```

Under the _TEMPLATES_ data structure add:
```
TEMPLATE_DIRS = (
    'MYQUOTES_TEMPLATES',
)
```

If we now go to our url ___http://localhost:8000/myquotes/event/___ we should see our "Events" headline followed by the bulleted listing of events.


## References

* https://app.lucidchart.com/ (great App for creating ERD diagrams)
* https://www.djangoproject.com
* https://en.wikipedia.org/wiki/Main_Page (good source for bio and other information)
* https://www.goodreads.com/quotes/ (thousands of quotes, categorized by topic)
* https://docs.djangoproject.com/en/3.0/topics/db/models/
